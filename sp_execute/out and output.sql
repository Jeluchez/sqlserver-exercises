declare @varean varchar(20);	declare @varstoreId int;	declare @sqlSelect nvarchar(2000);	DECLARE @price decimal(12,2);	DECLARE @ParmDefinition nvarchar(500);	set @varean = '2573590000005';	set @varstoreId = 539	set @sqlSelect = 'select @retvalOUT = max(s.ItemPriceWithTax)		FROM Items I 		INNER JOIN StoreItems S ON S.ItemNumber = I.ItemNumber		INNER JOIN StageJanisSku_history JS ON JS.ItemUPCFix = I.ItemUPCFix and JS.name not like ''%Inactivar%''		AND S.ItemPriceWithTax IS NOT NULL 		AND S.StoreId IN (Select S1.StoreId from dbo.Stores S1 WHERE S1.ActiveJanis = 1 AND S1.CountryId = I.CountryId) 		AND I.CountryId = JS.CountryId 		and JS.ean = @ean and S.StoreId= @storeId		Group by JS.ean, S.StoreId, I.CountryId'	SET @ParmDefinition = N'@ean varchar(200), @storeid int, @retvalOUT  decimal(12,2) OUTPUT';	EXEC sp_executesql @sqlSelect,@ParmDefinition,@ean=@varean, @storeId=@varstoreId,@retvalOUT= @price OUTPUT	SELECT @price